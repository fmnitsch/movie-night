(this.webpackJsonpshoppies=this.webpackJsonpshoppies||[]).push([[0],[,,,,,,,,,,,,,,,function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),s=n(2),r=n.n(s),i=n(5),c=n.n(i),o=(n(15),n(1)),u=n.n(o),l=n(3),m=n(6),h=n(7),d=n(9),v=n(8),b=(n(17),"https://www.omdbapi.com/?apikey="),f="1f00160f",p={getMovies:function(e){return Object(l.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(b).concat(f,"&s=").concat(e,"&type=movie"));case 3:if(!(n=t.sent).ok){t.next=13;break}return t.next=7,n.json();case 7:if(!(a=t.sent).Error){t.next=12;break}return t.abrupt("return",!1);case 12:return t.abrupt("return",a.Search);case 13:t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",alert(t.t0));case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()},getFilmById:function(e){return Object(l.a)(u.a.mark((function t(){var n,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(b).concat(f,"&i=").concat(e));case 3:if(!(n=t.sent).ok){t.next=13;break}return t.next=7,n.json();case 7:if(!(a=t.sent).Error){t.next=12;break}return t.abrupt("return",!1);case 12:return t.abrupt("return",a);case 13:t.next=18;break;case 15:return t.prev=15,t.t0=t.catch(0),t.abrupt("return",alert(t.t0));case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))()}};n(18);var j=function(e){return Object(a.jsxs)("div",{className:"search-bar",children:[Object(a.jsx)("p",{className:"input-instructions",children:"Start typing a movie title"}),Object(a.jsx)("input",{className:"input",type:"search",placeholder:"Search",results:"0",onChange:function(t){e.updateSearchTerm(t),e.search(t.target.value)}})]})};n(19);var x=function(e){var t=function(t){var n=document.getElementById(t.target.id);e.nominations.some((function(e){return e.imdbID===t.target.id}))||(!function(e){var t=document.querySelector(".".concat(e));t.classList.add("onClick"),setTimeout((function(){t.classList.remove("onClick")}),500)}(t.target.id),e.nominateMovie(t.target.id),n.style.opacity="50%")};return Object(s.useEffect)((function(){var t=document.querySelectorAll(".nominate"),n=document.querySelector(".results-header");t.forEach((function(t){return function(t){e.nominations.some((function(e){return e.imdbID===t.id}))?t.style.opacity="50%":t.style.opacity="100%"}(t)})),e.searchResults.length>0?n.style.visibility="visible":n.style.visibility="hidden",5===e.nominations.length&&t.forEach((function(e){return e.style.opacity="50%"}))})),Object(a.jsxs)("div",{className:"results-container",children:[Object(a.jsxs)("h3",{className:"results-header",children:['Results for "',e.searchTerm,'"']}),Object(a.jsx)("div",{className:"movie-list-container",children:e.searchResults.map((function(e){return Object(a.jsxs)("div",{className:"movie-card ".concat(e.imdbID),children:[Object(a.jsxs)("div",{className:"movie",children:[Object(a.jsx)("img",{className:"movie-poster",src:e.Poster,alt:""}),Object(a.jsx)("div",{className:"movie-title-container",children:Object(a.jsxs)("p",{className:"movie-title",children:[e.Title," ",Object(a.jsxs)("span",{className:"year",children:["(",e.Year,")"]})]})})]}),Object(a.jsx)("button",{className:"nominate",id:e.imdbID,onClick:t,children:"Pick"})]},e.imdbID)}))})]})};n(20);var O=function(e){var t=function(t){!function(e){var t=document.getElementById("nominated ".concat(e));t.classList.add("onClick"),setTimeout((function(){t.classList.remove("onClick")}),300)}(t.target.id),setTimeout((function(){e.unNominateMovie(t.target.id)}),90)};return Object(s.useEffect)((function(){var t=document.querySelector(".nominations-instructions");e.nominations.length>0?t.style.display="none":t.style.display="block"})),Object(a.jsxs)("div",{className:"nominations-container",children:[Object(a.jsxs)("h2",{className:"nominations-header",children:["Your Picks (",e.nominations.length,"/5)"]}),Object(a.jsxs)("div",{className:"movie-list-container",children:[Object(a.jsx)("p",{className:"nominations-instructions",children:"Your picks will appear here as you select them from the search results."}),e.nominations.map((function(e){return Object(a.jsxs)("div",{className:"movie-card nominated ".concat(e.imdbID),id:"nominated ".concat(e.imdbID),children:[Object(a.jsxs)("div",{className:"movie",children:[Object(a.jsx)("img",{className:"movie-poster",src:e.Poster,alt:""}),Object(a.jsx)("div",{className:"movie-title-container",children:Object(a.jsxs)("p",{className:"movie-title",children:[e.Title," ",Object(a.jsxs)("span",{className:"year",children:["(",e.Year,")"]})]})})]}),Object(a.jsx)("button",{className:"un-nominate",id:e.imdbID,onClick:t,children:"Remove"})]},e.imdbID)}))]})]})},y=function(e){Object(d.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(m.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).state={searchTerm:"",searchResults:[],nominations:[]},e.updateSearchTerm=function(t){e.setState({searchTerm:t.target.value})},e.search=function(){var t=Object(l.a)(u.a.mark((function t(n){var a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.getMovies(n);case 2:if(a=t.sent,0!==n.length){t.next=7;break}e.setState({searchResults:[]}),t.next=12;break;case 7:if(!1!==a){t.next=11;break}return t.abrupt("return");case 11:e.setState({searchResults:a});case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.nominateMovie=function(){var t=Object(l.a)(u.a.mark((function t(n){var a,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.getFilmById(n);case 2:if(a=t.sent,s=e.state.nominations,!(e.state.nominations.length>=5)){t.next=8;break}return t.abrupt("return");case 8:s.push(a),e.setState({nominations:s});case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.unNominateMovie=function(){var t=Object(l.a)(u.a.mark((function t(n){var a,s;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.getFilmById(n);case 2:a=t.sent,s=e.state.nominations.filter((function(e){return e.imdbID!==a.imdbID})),e.setState({nominations:s});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(h.a)(n,[{key:"saveStateToLocalStorage",value:function(){for(var e in this.state)localStorage.setItem(e,JSON.stringify(this.state[e]))}},{key:"componentDidMount",value:function(){for(var e=[],t=0;t<localStorage.length;t++){var n=localStorage.key(t);e.push(JSON.parse(localStorage.getItem(n)))}this.setState({nominations:e[1]}),window.addEventListener("beforeunload",this.saveStateToLocalStorage.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("beforeunload",this.saveStateToLocalStorage.bind(this)),this.saveStateToLocalStorage()}},{key:"render",value:function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsxs)("div",{className:"welcome-section",children:[Object(a.jsx)("h1",{children:"Movie Night!"}),Object(a.jsx)("p",{children:"Pick out the top 5 movies on your must-watch list and never lose track of them!"}),Object(a.jsx)(j,{search:this.search,searchTerm:this.state.searchTerm,updateSearchTerm:this.updateSearchTerm}),Object(a.jsx)(x,{searchTerm:this.state.searchTerm,searchResults:this.state.searchResults,nominateMovie:this.nominateMovie,nominations:this.state.nominations})]}),Object(a.jsx)(O,{nominations:this.state.nominations,unNominateMovie:this.unNominateMovie})]})}}]),n}(r.a.Component),g=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),a(e),s(e),r(e),i(e)}))};c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(y,{})}),document.getElementById("root")),g()}],[[21,1,2]]]);
//# sourceMappingURL=main.86fccd3b.chunk.js.map